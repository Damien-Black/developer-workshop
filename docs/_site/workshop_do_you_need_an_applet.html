<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" getting_started">
<title>Do You Need an Applet? | DNAnexus Developer Workshop</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://www.dnanexus.comfeed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> DNAnexus Connect Developer Workshop</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">DNAnexus Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://platform.dnanexus.com" target="_blank">DNAnexus Platform</a></li>
                        
                        
                        
                        <li><a href="https://wiki.dnanexus.com" target="_blank">DNAnexus Wiki</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Do You Need an Applet?">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          


<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Developer Workshop </li>
    
    
    
    <li>
        <a href="#">Workshop Topics</a>
        <ul>
            
            
            
            <li><a href="index.html">0. Welcome</a></li>
            
            
            
            
            
            
            <li><a href="workshop_getting_started.html">1. Getting Started</a></li>
            
            
            
            
            
            
            <li><a href="workshop_organizing_the_pipeline.html">2. Organizing the Pipeline</a></li>
            
            
            
            
            
            
            <li class="active"><a href="workshop_do_you_need_an_applet.html">3. Do You Need an Applet?</a></li>
            
            
            
            
            
            
            <li><a href="workshop_basic_applet_structure.html">4. Basic Applet Structure</a></li>
            
            
            
            
            
            
            <li><a href="workshop_debugging_and_error_handling.html">5. Debugging and Error Handling</a></li>
            
            
            
            
            
            
            <li><a href="workshop_improving_execution.html">6. Improving Execution</a></li>
            
            
            
            
            
            
            <li><a href="workshop_improving_file_io.html">7. Improving File IO</a></li>
            
            
            
            
            
            
            <li><a href="workshop_parallelization.html">8. Parallelization</a></li>
            
            
            
            
            
            
            <li><a href="workshop_distributed_applets.html">9. Distributed Applets</a></li>
            
            
            
            
            
            
            <li><a href="workshop_handling_complex_dependencies.html">10. Handling Complex Dependencies</a></li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">Do You Need an Applet?</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    

    

    

    

  <h2 id="alternatives-to-applets">3.0 Alternatives to Applets</h2>

<p>Before we start implementing our HISAT2 applet, we should recall that you can
run tools on DNAnexus without creating an applet at all. This is helpful when
you are performing a one-off task or just want to do some exploration. These
approaches give up some reproducibility and auditability, but they are quick
and easy to use.</p>

<h2 id="swiss-army-knife">3.1 Swiss Army Knife</h2>

<p>In some cases, you want to run a command or two on some files and get the
output. For example, you might want to merge overlapping entries in a BED file
using a <code class="highlighter-rouge">bedtools</code> command. You could create an applet that has a BED file input
and a merged BED file output, or you could just type the command and run it using
the Swiss Army Knife app.</p>

<p>The Swiss Army Knife app takes an arbitrary list of files and a command string as
inputs. It downloads all the files, runs the command, and uploads any new files.
So, we could just add our BED file as an input and type in the appropriate command:</p>

<figure><img class="docimage" src="images/swiss_army_knife_example.png" alt="Swiss Army Knife App" /><figcaption></figcaption></figure>

<p>When using Swiss Army Knife, it’s often useful to refer to input files using wildcards, like
<code class="highlighter-rouge">*.bed</code>, so the command can be independent of the specific input files. It also
allows you to refer to multiple files at once.</p>

<p>The Swiss Army Knife app has a number of tools built-in, so you can refer to them
in commands. The list of tools and more information are available on the
<a href="https://platform.dnanexus.com/app/swiss-army-knife">apps page</a>.</p>

<h2 id="cloud-workstation">3.2 Cloud Workstation</h2>

<p>In other cases, you want to work interactively on a remote computer that has fast
access to files stored on the DNAnexus platform as well as the rest of the internet.
You also may want to work on a computer with specific resources, like 32 cores or
200 GiB of memory. This can be accomplished with the Cloud Workstation app. The
Cloud Workstation app simply runs a DNAnexus worker for a specified period of time
that you can SSH into.</p>

<p>The Cloud Workstation app is described in the
<a href="https://wiki.dnanexus.com/Developer-Tutorials/Cloud-Workstations">DNAnexus Wiki</a>.</p>

<p>You can run the Cloud Workstation app from the terminal. First you need to set up
SSH access with <code class="highlighter-rouge">dx ssh_config</code>.</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dx ssh_config
Select an SSH key pair to use when connecting to DNAnexus jobs. The public key will be saved to your
DNAnexus account <span class="o">(</span>readable only by you<span class="o">)</span>. The private key will remain on this computer.                          
dx is already configured to use the SSH key pair at:
    /home/vagrant/.dnanexus_config/ssh_id
    /home/vagrant/.dnanexus_config/ssh_id.pub
0<span class="o">)</span> Use this SSH key pair
1<span class="o">)</span> Select or create another SSH key pair...                                                                                         
Pick a numbered choice: 0
Updated public key <span class="k">for </span>user user-mkinsella_ugm
Your account has been configured <span class="k">for </span>use with SSH. Use dx run with the --allow-ssh, --ssh,
or --debug-on options to launch <span class="nb">jobs </span>and connect to them.
</code></pre>
</div>

<p>Then run the app:</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dx run app-cloud_workstation --allow-ssh                                                
Select an optional parameter to <span class="nb">set</span>&lt; by its <span class="c"># (^D or &lt;ENTER&gt; to finish):        </span>
 <span class="o">[</span>0] Maximum Session Length <span class="o">(</span>suffixes allowed: s, m, h, d, w, M, y<span class="o">)</span> <span class="o">(</span>max_session_length<span class="o">)</span> <span class="o">[</span><span class="nv">default</span><span class="o">=</span><span class="s2">"1h"</span><span class="o">]</span>                             
 <span class="o">[</span>1] Files <span class="o">(</span>fids<span class="o">)</span>                                         
              
Optional param <span class="c">#:</span>
Using input JSON:
<span class="o">{}</span>                                                                                                                                  
Confirm running the executable with this input <span class="o">[</span>Y/n]: y                                                                             
Calling app-Bpx83Y00zV01pZ0zGGpyk0y0 with output destination project-BzYQ2Y005vP8j0j081y1pjqQ:/                                     
Job ID: job-BzYVf3j05vP5bQxz15q4g0pg                                                                                                
Watch launched job now? <span class="o">[</span>Y/n] n
</code></pre>
</div>

<p>And ssh into the job running the app</p>

<div class="language-shell highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>dx ssh job-BzYVf3j05vP5bQxz15q4g0pg
</code></pre>
</div>


    <div class="tags">
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2016 DNAnexus. All rights reserved. <br />
 Site last generated: Sep 29, 2016 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

</html>